Data-Viewer-Service
===========

### Intro
The REST web service generates visual represenations of research data files, supported by some other specific viewer services.
More detailed description and minimal requirements for the specific viewer service are described here: https://github.com/MPDL/data-viewer-service/wiki/Description


### Installation

1. Install Maven [download](http://maven.apache.org/download.cgi)
2. Install Tomcat [download](http://maven.apache.org/download.cgi)
3. `git clone https://github.com/MPDL/data-viewer-service`
5. Compile the service: go into `data-viewer-service directory`, run `mvn clean install`
6. Copy `data-viewer.war` in Tomcat `webapp` directory
7. Create file `data-viewer-service.properties`, add following property in it (see provided file in src/WEB-INF directory) 

 and put the file into Tomcat `conf` directory

8. Start Tomcat
9. Service runs under `http://localhost:8080/data-viewer`

### Usage REST API

Following REST commands are implemented:

##### **Path**: /api/view
- **Method**: POST
- **Media type**: multipart/form-data
- **Input fields**: 
  - field 1:
    - **name**: file1
    - **type**: file
    - **value**: locally selected file for visualization
  - field 2:
    - **name**: mimetype
    - **type**: text
- **Response**:
Delivers HTML view representation of the file, generated by invocation of the specific viewer service 
 
##### **Path**: /api/view
- **Method**: GET
- **Media type**: application/x-www-form-urlencoded
- **Input fields**: 
  - field 1:
    - **name**: url
    - **type**: text
    - **value**: link to the file which needs to be visualized
  - field 2:
    - **name**: mimetype
    - **type**: text
- **Response**:
Delivers HTML view representation of the file, generated by invocation of the specific viewer service 

##### **Path**: /api/explain/services
- **Method**: GET
- **Media type**: application/x-www-form-urlencoded
- **Response**:
Delivers JSON representation of specific viewer services supported by this data viewer. 

##### **Path**: /api/explain/services
- **Method**: GET
- **Media type**: application/x-www-form-urlencoded
- **Response**:
Delivers JSON representation of specific viewer services supported by this data viewer. 

##### **Path**: /api/explain/formats
- **Method**: GET
- **Media type**: application/x-www-form-urlencoded
- **Response**:
Delivers JSON representation of formats for which this data viewer can invoke specific viewers.  Only one format per viewer is supported.

### Usage simple web form 

Go to e.g. http://localhost:8080/data-viewer/

and you have a simple web form to test the service
